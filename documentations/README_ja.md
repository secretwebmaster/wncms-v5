# Wncms プロジェクト紹介

デモ: [demo.wncms.cc](https://demo.wncms.cc)

## 更新履歴

### v5.5.5 2025-09-08

-   AdvertisementManager を ModelManager を継承するように更新
-   重複した翻訳マイグレーションファイルを削除
-   Advertisement と Website のリレーションが見つからない問題を修正
-   PageController でフロントエンドテーマのヘルパーを読み込み
-   HasTags トレイトを基底の WncmsModel に移動（すべてのモデルがタグ付け可能に）
-   冗長な OwnModelTrait と WnModelTrait を削除
-   ExtraAttribute を削除し、laravel-optionable パッケージに置き換え
-   バックエンドにツールページを追加
-   @simonwep/pickr パッケージをローカライズ
-   すべてのコントローラーの view() 関数をリファクタリングし、wncms()->view() を使用
-   Advertisement モデルに contact フィールドを追加
-   Tag モデルを作成する API を追加
-   HasComments トレイトを追加
-   バックエンド Post にコメント一覧表示を追加
-   フロントエンド PostController を最新フォーマットに書き直し
-   バックエンドのパーミッション編集ページのエラーを修正
-   API 利用ログ用にバックエンド UI を準備

### v5.5.4 2025-08-18

-   タグ保存時の翻訳問題を修正し、依存関係 **wncms-translatable** を更新
-   **UserController** 内の複数のバリデーションおよびデータ受け渡し問題を修正（`profile` ページで `$user` が渡されない、パスワード検証ルール/メッセージの誤り、`withError()` の誤用、`profile` 更新処理を最適化）
-   一部のマルチサイトモードの問題を修正
-   **Controller stub** ファイルを新しい構造に更新
-   バックエンドコントローラのルートエラーを修正

### v5.5.3 2025-08-17

-   Checkbox 提出時に NULL 値が送信される問題を修正
-   Beta 版でマルチモジュール・マルチサイトの互換性を追加
-   Starter フォーム項目 Blade の repeater サンプルを更新
-   WnContentModelTraits を WnContentModelTrait にリネーム
-   WnModelTraits を WnModelTrait にリネーム
-   Beta 版で HasMultisite trait を追加

### v5.5.2 2025-07-20

-   フロントエンドにリンクページと LinkController を追加
-   依存関係 wncms-tags > 1.6.1 を更新

### v5.5.0 2025-07-19

-   一部のバックエンド Blade ビューで `getVersion()` を `addVersion()` に置き換え
-   `isActiveRoutes()` ヘルパーを追加
-   データベースマイグレーション後にインストールが停止する問題を修正
-   `Wncms\Models` を `App\Models` にオーバーライドした場合に、サイドバーにモデルが重複する問題を修正
-   `PageController` でカスタムリソースページが見つからない問題を修正
-   `click.js` を削除し、API に置き換え
-   新規インストール後にバージョン番号を更新
-   キュー接続のデフォルトを `redis` から `sync` に変更
-   削除操作はインデックスではなく前のページにリダイレクトされるように変更
-   `PageManager` を再構築
-   `UserManager` を再構築
-   データベースが大きい場合のダッシュボードのメモリ使用量を最適化
-   バックエンドの `PostController` コードを整理
-   WNCMS のビューにフォールバックする前にカスタム app ビューを使用可能に
-   入力フィールドが `hidden` タイプのときに開発者向けヒントを非表示に
-   広告の背景色が表示されない問題を修正
-   バックエンドの問い合わせフォームで作成と編集フォームを統合
-   `BulkDeleteTrait` を削除（`BackendController` に統合済み）
-   `tags.index.type` ルートを削除し、`tags.index` に統合
-   メニューからマルチサイトオプションを削除
-   商品フィールド `attribute` を `properties` にリネーム
-   カスタム検索キーワードの追加をサポート
-   `traffic_log` と `click_log` の Blade ビューを削除
-   すべてのモデルリレーションを `wncms()->getModelClass('xxx')` に置き換え、モデルのオーバーライドが可能に
-   `CreateModel` のルート構造を `{modelName}` から `{id}` に変更
-   コントローラーのスタブに `order by id desc` を追加
-   バックエンドのサイト編集画面を改善し、ドメインエイリアスのソートを追加

### v5.4.3 2025-07-17

-   バックエンドのリンクルートは自動解決ではなく ID を受け入れるようになり、カスタム Link モデルを使用可能
-   `BackendController` を抽象クラスに変更し、標準化
-   `ModelManager::get()` の `$option` に `name` サポートを追加
-   リストにないドメインはフォールバックサイトとキャッシュを共有
-   SQL エラーを回避するために select に自動で order カラムを追加
-   `WebsiteManager` でフォールバックサイトのメディアを事前読み込み
-   `TagManager` の条件ロジックを再構築
-   更新ログの API ルートを `api.v1.update.run` に変更
-   Link モデルの説明フィールドを input から textarea に変更
-   バックエンドのルートコードを整理し、先頭のスラッシュを削除
-   `BackendController` に抽象メソッド `getModelClass()` を追加
-   `AnalyticController` を削除

### v5.4.0 2025-05-01

-   Card モデルのステータスが見つからない問題を修正
-   `multi_website` 有効時にウェブサイトモデルを選択できるドロップダウンを追加
-   モデルで `NAME_KEY` 定数を使用して名称を定義可能に（翻訳衝突防止）
-   バックエンドサイドバーのモデルアイコンを更新
-   最後の 1 件を除き、ウェブサイトモデルの削除を許可
-   権限の一括削除をサポート
-   Channel、Click、Parameter モデルを追加
-   Price モデルを一時的に非表示に（各親モデルで設定する必要あり）
-   未定義の `$display_name` 変数を修正
-   未使用の analytics API ルートを削除
-   多くのマイグレーションでテーブル存在確認を追加
-   LinkManager にメディアの eager load を追加
-   CacheManager をリファクタリング：モダン構文 + タグ付き get/put/forget に統一
-   ModelManager を基底クラスとしてリファクタリング
-   PostManager と LinkManager を ModelManager に統合、タグとキーワード絞り込み対応
-   `wncms()->getModel('xxx')` をサポート（設定からのフォールバックあり）
-   `zh_TW` に翻訳キー（`bulk_create`、`channel`、`parameters`、`clickable_type` 等）を追加
-   CardController を `wncms()->getModel('user')` を用いた動的モデル取得に更新
-   `gto()` でキーなし呼び出し時に全オプションを返すよう対応
-   翻訳を追加
-   タイポ修正：`fontaweseom` → `fontawesome`、`operater` → `operator`、`Starer` → `Starter`
-   Tag モデルに `$tag->url` アクセサを追加
-   バックエンドユーザー検索を改善
-   バックエンド広告一覧ページのデザインとページネーションを改善
-   テーマパック生成時に言語ファイルが含まれない問題を修正
-   `wncms()->log($message, $level)` のデバッグ関数を追加
-   【重要】LinkManager を ModelManager に統合
-   バックエンドヘッダーのクイックリンク削除時の不具合を修正
-   `starter/form-items.blade.php` に `repeater` 入力を追加
-   `starter/form-items.blade.php` の color 入力のエラーを修正
-   `form-items.blade.php` に開発者向けヒントを追加
-   広告の並び順が保存されない問題を修正
-   ユーザーログインと管理者ログインページを分離
-   Post API を更新

### v5.3.0 2025-03-30

-   管理画面のヘッダーリンクがマルチサイト設定に応じて表示されるように。マルチサイトではサイト一覧、シングルサイトではサイト設定とテーマ設定を表示
-   広告モデルで並び順フィールドが更新されない不具合を修正
-   サイトモデルのドメイン名を更新可能に
-   スーパ管理者用のシステム設定を追加。あまり使われないオプションを非表示にする準備
-   管理画面サイドバーのテーマ一覧アイコンを更新
-   テーマのファイル構造チェック機能を追加
-   カスタムの ModelManager をパッケージ内の ModelManager よりも優先して読み込むように
-   TagManager の get() 関数に null を渡せるようにし、テーマオプションから null が取得されたときのエラーを防止
-   管理画面リストページのステータスおよびブール型の表示を更新。バッジまたはテキスト表示を選択可能
-   getList() 関数のデフォルトページサイズを 0 に設定し、デフォルトでページネーションを無効化
-   管理画面のリストページに含められる一括モデル更新ボタンの Blade を追加
-   Link モデルの管理画面を更新。一括でステータスと並び順を更新できるように

### v5.2.0 2025-02-04

-   多言語翻訳を追加
-   コードを整理
-   フロントエンドの新規登録ユーザーにデフォルトで member ロールを付与。テーマオプションで変更可能
-   現在のドメインでサイトモデルが見つからない場合、最初のサイトの広告を取得
-   リンクの翻訳を事前読み込み
-   ドメインからサイトモデルが見つからない場合、最初のサイトの投稿を取得。ランダム順にすることも可能
-   サイトモデルの翻訳を事前読み込み

### v5.1.3 2025-02-04

-   多言語翻訳を追加

### v5.1.2 2025-02-04

-   管理画面のクイックリンク保存ロジックを改善。ルート名ではなく URL を保存し、パラメータ欠落を防止
-   管理画面のテーマ設定ページのタイトルにサイト ID を追加表示

### v5.1.1 2025-01-28

-   すべての gss バージョンを core_version に更新

### v5.1.0 2025-01-28

-   一部のメニュー項目が保存できない不具合を修正
-   必須ではないフィールドから required クラスを削除
-   Website モデルとその翻訳を事前読み込み
-   ThemeServiceProvider を追加
-   website モデルからではなく、現在のドメインからページ URL を表示
-   Post モデルの翻訳を事前読み込み、order 変数でランダム指定が可能に
-   Link モデルを翻訳可能に

### v5.0.0 2025-01-27

-   ユーザーページのルート順序の不具合を修正
-   Credit モデルにクレジットを追加または取得する関数を追加
-   User モデルにクレジット残高を直接確認できる関数を追加
-   TinyMCE のセレクターにクラスを使用可能にし、GIF を許可画像形式に追加
-   フロントエンドのログインページから管理画面にログインできる機能を再有効化
-   実行時に CSRF ルールを動的に変更可能に
-   `wncms-translatable` の依存関係を更新
-   アップデート後にメニュー項目の翻訳が消える問題を修正
-   `gto()` で値が空のときにフォールバックするかどうかの設定を可能に
-   フロントエンド投稿の CRUD（作成・読み取り・更新・削除）機能を追加

### v4.5.0 2024-09-30

-   ページネーションの URL がキャッシュされる際に言語情報が含まれてしまう問題を修正
-   プラグインシステムを追加
-   `PostHelper` のパフォーマンスを向上
-   テストを更新
-   `LOCALIZATION_HIDE_DEFAULT_LOCALE` 環境変数を追加

### v4.4.0 2024-09-18

-   管理画面に更新通知機能を追加
-   モデル作成関数を更新し、カスタムモデルやコントローラーとの互換性を確保
-   ページネーションで最後のページの項目数が正確に表示されるよう修正
-   設定にコアアップデートを無効にするオプションを追加
-   `README.md` にデモ URL を追加
-   エラーページを更新
-   翻訳を追加
-   アップデート設定用のコマンドを導入
-   テーマコントローラーを追加

### v4.3.0 2024-09-14

-   新しいインストールプロセスをテスト
-   `vendor` ディレクトリの追跡を停止
-   管理画面のフッターの年を動的に更新
-   インストール前にデフォルトのキャッシュドライバーを `null` に設定
-   `README.md` を更新
-   デフォルトテンプレートを改善
-   インストーラーのアイコンを更新。インストール時に HTTPS 強制設定を自動追加
-   インストーラーにエラーメッセージを追加
-   Redis、Memcache、ファイルからキャッシュドライバーを選択するオプションをインストーラーに追加
-   デフォルトの `DB_CONNECTION` をインメモリの SQLite に、`SESSION` ドライバーをファイルに設定
-   インストール時に trait ファイルの生成を無効化
-   システム設定に HTTPS 強制オプションを追加
-   デフォルトの `.env` ファイルを追加
-   `.gitignore` を更新
-   composer 依存パッケージを更新
-   テーマオプションパネルを更新
-   最初のサイト作成プロセスを改善
-   デバッグメッセージを削除
-   管理画面のスタイルを修正
-   Trait 名を変更、インストールエラーを修正、HTTPS 強制対応を追加
-   要求前にカスタム言語ファイルの存在を確認するよう修正

### v4.2.0 2024-09-13

-   `WnTagTraits.php` を削除
-   サンプル記事の生成時に翻訳を追加
-   デフォルトのトップページテンプレートを改善。記事アーカイブの URL を追加
-   翻訳をさらに追加
-   2 つ目のサイトを追加する際のエラーを修正

### v4.1.0 2024-09-07

-   HTTPS 強制オプションを追加
-   細かな修正
-   デフォルトの `.env` ファイルを更新し、デバッグメッセージを非表示に
-   インストールおよびサイト作成後にキャッシュをクリア
-   PHP 関数の要件チェックを追加
-   `database.sqlite` を `.gitignore` に追加
-   テーマ作成コマンドを修正。Laravel 11 の構成に従って lang ディレクトリを更新
-   広告の有効期限が空欄不可のバグを修正
-   不要な `UpdateLog` モデルを削除
-   デフォルトモデル設定を更新
-   インストーラーを更新
-   ユーザー登録を無効化する機能を追加
-   サイト編集ページでテーマを null に設定するよう修正

### v4.0.0 2024-08-03

#### 新機能

-   PHP の必須バージョンを 7.2+ から 8.2+ にアップグレード
-   Laravel 10 → 11 にアップグレード
-   jQuery 3.2.1 → 3.7.1 にアップグレード
-   すべての composer 依存パッケージを更新
-   MySQL の予約語との衝突を避けるためにデータベースプレフィックスを追加

#### 修正

-   CMS が未インストール時に `panel/xxxx` ページがエラーになる問題を修正
-   `php artisan migrate:fresh` が動作しない問題を修正
-   `$request->input` が null の場合にページコントローラーがエラーになる問題を修正

#### 最適化

-   古いマイグレーションを統合し、ファイル名をリネーム
-   データベースカラム `external_image` → `external_thumbnail` に変更
-   デフォルト `.env` ファイルジェネレーターを更新
-   `wncms_get_unique_slug()` のデフォルト長を 8 に設定
-   `//` コメントの後にはスペースを入れるよう統一（例：`// Good`、`//Bad` は不可）
-   `wncms.js` と `AuthenticatedSessionController` のログインロジックを再実装

#### 削除

-   パッケージサイズ削減のため `vendor` ディレクトリを削除。インストール時に自動ダウンロード
-   グローバル関数 `wn()` を削除し、すべて `wncms()` に置き換え
-   グローバル変数 `$wn` を削除し、すべて `$wncms` に置き換え
-   パフォーマンス問題を避けるため、解析ヘルパーを削除。代わりにサードパーティ製解析ツールを使用
-   ヘルパー関数 `wncms_get_theme_options()` を削除。モデル内で `$website->get_options()` を使用

### v3.2.1 2024-05-19

#### 新機能

-   複数のフラグ SVG を追加
-   より多くの翻訳フィールドを追加
-   管理画面の各モジュールのデータリストに権限判定を追加
-   管理画面のメニュー追加時に管理者以外を判定
-   今後の開発用に、代理ダッシュボードを 1 つ予約

#### 修正

-   一部の大文字小文字ミスを修正

#### 最適化

-   `common.table_status.blade.php` にてより多くのステータスを判定可能に。カスタム機能を追加

### v3.2.0 2024-03-14

#### 修正

-   新バージョンインストール時に `site_name` が null でエラーになる問題を修正

#### 最適化

-   インストール手順を更新
-   `api_token` によるリクエスト時、ログイン状態とみなすよう対応

### v3.1.15 2024-03-12

#### 新機能

-   Page モジュールの API を追加
-   メニューモジュールの API を追加
-   `PostHelper::getList()` が `$isRandom` パラメータに対応し、ランダムな記事取得が可能に
-   Post モジュールに `getTags` を追加。タグ一覧を取得でき、`$type` パラメータも指定可能
-   `WebsiteHelper` に並び替え機能を追加
-   テーマ設定で `0` と未設定を区別できるよう改善
-   ワンクリックで複雑なメニューを生成する機能を追加

#### 修正

-   お問い合わせフォームの `current_url` 項目がキャッシュされる不具合を修正
-   フォーム送信失敗時にボタンのテキストが表示されない問題を修正

#### 最適化

-   Post モジュールの `getFirstCategory()` を廃止予定。今後は `getFirstTag('post_category')` を使用
-   管理画面（モバイル版）UI を最適化
-   テーマファイル生成時、`starter` 文字列を自動でテーマ名に置き換えるよう改善
-   テーマ名をアルファベット順に並べ替え
-   記事検索前にキーワードが含まれているか確認
-   テーマ設定の 0/未設定の判別を強化
-   管理画面でタグに関連モジュール数を表示
-   すべての Helper でページネーション無効（`$pageSize = 0`）をデフォルトに

### v3.1.14 2023-12-17

#### 新機能

-   記事の一括複製機能を追加

### v3.1.13 2023-12-12

#### 新機能

-   モジュール一覧のツールバーに一部のデフォルトボタンを非表示にする設定を追加（例: `'hideToolbarStatusFiller' => true`）
-   お問い合わせフォームに送信後の JavaScript イベントを追加し、成功・失敗時にそれぞれ処理可能
-   管理画面のお問い合わせフォームにフィルター機能を追加
-   お問い合わせデータを XLXS / CSV でエクスポート可能に
-   翻訳フィールドを追加

#### 修正

-   フェイク閲覧数が小数になる問題を修正

#### 最適化

-   一部の管理画面 UI を調整

### v3.1.12 2023-12-11

#### 新機能

-   システム設定でカバー画像アップロード時、自動的に WebP に変換
-   モジュールに追加属性機能（`ExtraAttribute`）を追加。`getExtraAttribute()` と `saveExtraAttribute()` を使用可能

#### 修正

-   テーマ設定のスイッチの説明が重複して表示される場合がある不具合を修正

### v3.1.11 2023-12-08

#### 新機能

-   翻訳フィールドをさらに追加

#### 修正

-   テーマ設定の画像に括弧 () が含まれていると表示されない問題を修正

#### 最適化

-   `utm` パラメータをランディングページ以外にも引き継げるよう改善

### v3.1.10 2023-12-08

#### 新機能

-   お問い合わせフォームでフィールド順を変更可能に
-   システム設定にスーパー管理者の通知先メールアドレスを設定する項目を追加
-   SMTP のテスト送信機能を追加
-   一部の翻訳フィールドを更新
-   お問い合わせフォームで単一選択・複数選択に対応
-   必須入力項目がすべて入力されているかをチェックする機能を追加

#### 修正

-   スマホ版のテーマ設定でサイト名が長すぎるとレイアウトが崩れる不具合を修正
-   一部モジュールが一括削除できない不具合を修正
-   記事をゴミ箱に移動してもステータスが更新されない問題を修正

#### 最適化

-   デフォルトの HTML メールテンプレートを更新

### v3.1.9 2023-12-06

#### 新機能

-   Starter テーマ用の `style.css` と `main.js` を追加

#### 修正

-   一部のテーマページコンポーネントが読み込まれない不具合を修正

#### 最適化

-   記事取得時、除外カテゴリ ID を指定した場合でもカテゴリ未設定の記事を含むよう改善
-   フォームシステムを更新し、新しいテンプレート呼び出し方法（`$wncms->contact_form()->render()`）に対応
-   FAQ モジュールを更新。項目を追加し、並び順を設定可能に

### v3.1.8 2023-11-29

#### 新機能

-   `json-id` 構造を追加

### v3.1.7 2023-11-21

#### 新機能

-   管理画面（スマホ版）UI の改善
-   すべての画像アップロードモジュールでより多くの画像形式に対応
-   デフォルトのテーマ設定をワンクリックでインポートできる機能を追加

#### 修正

-   記事上限がページ数より少ない場合に表示されない不具合を修正

#### 最適化

-   テーマ設定内のテキストエディタをアップグレード
-   翻訳フィールドを更新

### v3.1.6 2023-11-17

#### 新機能

-   記事を複数のサイトに一括で割り当てる機能を追加
-   `[wncms-click]` 属性によるクリックイベント記録機能を追加
-   サイト閲覧数の表示を追加（記事閲覧数とは異なり、複数記事を閲覧しても 1 回としてカウント）
-   より多くの翻訳フィールドを追加
-   システム設定に閲覧数・訪問数のクールダウン時間を追加（例：60 分、1440 分など分単位で設定）
-   広告枠に複数フィルター条件を追加

### v3.1.5 2023-11-16

#### 新機能

-   メニュー項目に説明文を追加可能に
-   【開発者向け】再利用可能なページテンプレートを構築する Wiget システムを追加
-   【開発者向け】Sortable JS プラグインを導入
-   【開発者向け】`backend.blade.php` に CSS スタック領域を追加（`@push('foot_css')`）
-   翻訳フィールドをさらに追加
-   開発用のデモ記事をワンクリックで生成する機能を追加
-   【開発者向け】ページごとの設定取得用関数 `gpto`（`getPageTemplateOption`）を追加

#### 修正

-   Ajax 問い合わせフォームで「成功建立」と表示されるメッセージを「成功提交」に修正

#### 最適化

-   ページカテゴリの option カラムを `json` から `text` に変更し、自動並び替えを防止
-   単一ページの読み込み順を `template > plain > static` に変更。すべてなければトップページへリダイレクト
-   `#` で始まるメニューリンクがアンカーへ正しく移動しない問題を修正
-   スマホ版の管理画面テーマ設定スタイルを改善
-   【開発者向け】`input.blade.php` の条件ロジックを大幅に書き換え、ビジュアルエディタ対応準備完了

### v3.1.4 2023-11-04

#### 新機能

-   【開発者】テンプレートに `$wncms` パラメータを追加。`$wn` と同等
-   【開発者】`wncms()->paginateWithLimit()` メソッドを追加。`paginate` が `limit` と併用できない問題を解決
-   より多くの翻訳文字を追加
-   「いいね」数をキャッシュし、毎日スケジュールタスクでモジュールの `like` フィールドに更新。リアルタイムでの「いいね」数が不要なモジュールを高速化
-   `RecordViews` のスケジュールタスクを更新。`visit`, `like`, `dislike` など任意のコレクションを記録可能
-   【開発者】`$wn->addVersion()` を追加。テンプレートで `'?v=' . $wn->getVersion()` を手動で追加せずにバージョン付きで出力可能
-   `application/ld+json` オプションを導入し、`<head>` に push 可能

#### 修正

-   v3.1.3 アップデート後、一部のページで内容が読み込まれない問題を修正

#### 最適化

-   デフォルトテーマの `<title>` を「ホーム」からサイト名に変更
-   同じ名前の権限を追加する際、エラー表示ではなく「既に存在しています」と通知表示に変更
-   【開発者】フロントビューの統計関数をリネーム：`get_view` → `get`, `record_like` → `like`, `record_view` → `record`

### v3.1.3 2023-10-31

#### 新機能

-   管理画面メニューアイコンを更新
-   テキストからドメインを抽出する機能を追加
-   広告に「永久広告」設定を追加
-   【開発者】ページテンプレート機能を追加。Blade ファイルを作成し、ページ管理からワンクリックで生成可能
-   カラーピッカーで現在値が表示されない不具合を修正
-   メニュータグ項目に多言語自動取得機能を追加。取得後は各言語の表示文をカスタマイズ可能
-   さらに多くのデフォルト広告枠を追加
-   【開発者】日付表示モジュール `resources/views/common/table_date.blade.php` を追加。現在時刻との距離で色分け表示
-   【開発者】現在のページとリンクが一致するかを判定する `wncms()->isActiveUrl()` を追加
-   より多くの翻訳項目を追加
-   記事ランキング機能を追加 `/posts/rank`, `/post/rank/{$period}`（日・週・月・年・全体で並び替え可能）
-   【開発者】`WnMediaTraits` を追加。`$this->addThumbnailFromRequest()` でリクエストから直接画像をアップロード可能
-   【開発者】`WnTgTraits` に `getFirstTag()` を追加。任意のモデルから最初のタグを取得
-   【開発者】`CacheHelper` に `get()` と `put()` を追加
-   【開発者】`MenuHelper` に `theme_page` 用リンク出力を追加。`external_link` とほぼ同じ挙動
-   広告のワンクリックコピー機能を追加

#### 修正

-   【開発者】Laravel バージョンアップ後、Stub ファイルが上書きされてしまう問題を修正。モジュールテンプレートが初期化されてしまう不具合
-   会員ページの管理画面でのエラーを修正
-   キャッシュ有効時、タグのページネーションが 1 ページ目のみ表示される不具合を修正
-   一部モジュールで、管理者に初期権限がない問題を修正
-   メニュー項目を更新すると並び順が崩れる問題を修正

#### 最適化

-   【開発者】文字列からドメインを取得する機能を改良。`www` を保持するかどうかを指定可能：`wncms()->getDomainFromString($string, $includePort = true, $preserveWWW = false)`

### v3.1.2 2023-10-28

#### 新機能

-   新しい Redis キャッシュライブラリを導入し、個別のタグ削除に対応
-   管理画面にワンクリックでキャッシュを削除する機能を追加
-   【開発者】文字列からドメイン＋ポートを取得する `wncms()->getDomainFromString()` を追加

#### 最適化

-   【開発者】コード整理
-   【開発者】Theme Helper がキャッシュ設定に影響されないよう修正。キャッシュを無効にしてもデフォルトで 3600 秒のキャッシュ時間を適用（DB 負荷軽減）
-   【開発者】CSRF パスを更新
-   テーマ設定で TinyMCE エディタが無効になる問題を修正
-   【開発者】`TagHelper::getList()` に親タグのみを取得するオプションを追加
-   記事の API を更新
-   WNCMS のインストールプロセスを簡略化

### v3.1.1 2023-10-20

#### 新機能

-   インストールプロセスを全面刷新。より簡単で高速に
-   【開発者】Starter の `tagify` フィールドをキーワード検索入力に変更
-   【開発者】管理者ダッシュボード項目をカスタマイズ可能に
-   【開発者】会員マイページ項目をカスタマイズ可能に
-   より多くの翻訳項目を追加

#### 修正

-   一部モジュールでタグが削除されない不具合を修正

#### 最適化

-   【開発者】管理画面サイドバーの Model 項目をリファクタリング。`$menuPriority` プロパティで順序を制御可能に
-   【開発者】`controller.model.stub` を更新
-   会員登録ロジックを再構築

### v3.0.8 2023-10-18

#### 新機能

-   【開発者】Wncms コアクラスを更新し、任意のプロパティを `$wn->anything = 'something';` の形式で追加可能に
-   【開発者】Wncms コアクラスを更新し、Helper クラスの再利用性を向上

### v3.0.7 2023-10-17

#### 新機能

-   お問い合わせフォームに一括処理機能を追加（既読、未読、返信済みを一括で設定可能）
-   サイト単位のキャッシュ機能を追加
-   予備ドメインシステムを追加
-   一部の管理画面にデータ件数情報を追加（例：総数、現在表示中の件数）
-   広告モジュールを新規追加

#### 最適化

-   Ajax ボタンのデータ送信形式を更新
-   システム設定のキャッシュ処理を最適化
-   TinyMCE エディタを Cloudflare CDN でアップグレード

### v3.0.6 2023-10-09

#### 新機能

-   より多くの翻訳フィールドを追加
-   【開発者】`table_url` Blade ビューを追加
-   【開発者】`web.php` ルーティングにデモ用モジュールを追加
-   【開発者】`starter/index.blade.php` に複製ボタンを追加
-   【開発者】Tag モジュールに `WnTagTraits` トレイトを追加し、`getAvailableTypes()` で分類法の一覧（例：`post_tag`, `video_category`）を取得可能に

### v3.0.5 2023-10-07

#### 新機能

-   カスタムモジュールの存在チェック機能を追加（`Custom{Model}Traits.php`）

### v3.0.4 2023-10-07

#### 修正

-   一部モジュールの小さな不具合を修正

#### 最適化

-   管理画面の UI を改善

### v3.0.3 2023-10-06

#### 最適化

-   記事モジュールを更新し、会員の権限に関する問題を修正
-   `Trait` ディレクトリを `App` ディレクトリ下へ移動

### v3.0.2 2023-09-30

#### 新機能

-   新しい Page タイプを追加（プレーンテキスト型、エディターで作成されたテンプレート、テーマ提供のテンプレート）

### 2.0.0 2021-07-28

-   メジャーバージョンアップ！（詳細な更新履歴は非公開）

### 1.0.0 2019-03-01

-   初回リリース（詳細な更新履歴は非公開）
